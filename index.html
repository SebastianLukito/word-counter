<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Word Counter</title>
    <link rel="icon" href="hehe.ico" type="image/jpg">
    <link rel="stylesheet" href="print.css">
    <link rel="stylesheet" href="marquee.css">
    <link rel="stylesheet" href="cursor.css">
    <link rel="stylesheet" href="rightpanel.css" />
</head>
<body>
    <div id="audio-modal" class="audio-modal">
        <div class="modal-content">
        <p>Dengan klik tombol ini, kamu menyatakan <br>bahwa <u>Sebastianus Lukito itu keren.</u></p>
        <button id="audio-confirm-btn">Setuju</button>
        </div>
    </div>
    <canvas id="rain-canvas"></canvas>
    <!-- audio rain loop -->
    <audio id="rain-audio" src="hehe.mp3" loop autoplay></audio>

    <div class="marquee" id="marquee">
        <p id="marqueeText">THIS ENGINE IS MADE WITH LOVE BY SEBASTIANUS LUKITO ‚ö°
            <!-- <img src="igr.png" alt="Logo Indogrosir" class="marquee-logo"> -->
        </p>
    </div>

    <div class="container">
        <main class="main">
            <section class="left-panel">
                <h2>PDF WORD COUNTER</h2>
                <!-- File Type Selector -->
                <div class="file-type-selector">
                    <button id="pdf-mode" class="mode-btn active">PDF Mode</button>
                    <button id="image-mode" class="mode-btn">Image Mode</button>
                </div>

                <!-- Bagian Drag & Drop untuk PDF/Image -->
                <div class="drop-section" id="drop-section">
                    <input type="file" id="pdfInput" accept=".pdf" style="display: none;">
                    <input type="file" id="imageInput" accept=".jpg,.jpeg,.png,.bmp,.tiff,.webp" style="display: none;">
                    <p id="drop-text">Drag & Drop or Click Here to Insert PDF File</p>
                    <div id="paste-hint" style="display: none;">
                        <small>üí° Pro Tip: You can also paste images from clipboard using <kbd>Ctrl+V</kbd></small>
                    </div>
                    <div id="file-list"></div>
                </div>

                <!-- Area untuk menampilkan statistik -->
                <div class="stats-container" id="stats-container" style="display: none;">
                    <h3>STATISTICS</h3>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-label">Total Characters:</span>
                            <span class="stat-value" id="total-chars">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Characters (no spaces):</span>
                            <span class="stat-value" id="chars-no-spaces">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Total Words:</span>
                            <span class="stat-value" id="total-words">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Pages:</span>
                            <span class="stat-value" id="total-pages">0</span>
                        </div>
                    </div>
                </div>
                <div class="button-section">
                    <button id="count-btn" style="display: none;">Count Characters</button>
                    <button id="reset-btn">Reset Counter</button>
                </div>
                <div class="message" id="message">
                    <p>
                    If there is a problem with the engine, don't hesitate to contact
                    <b>the developer, the king, the legend named Sebastianus Lukito.</b>
                    </p>
                    <p>
                    Upload your PDF file and view it with character counting and highlighting features.
                    Click and drag to highlight text areas that you want to exclude from counting.
                    </p>
                </div>
            </section>
            <img id="loading-gif" src="anim.gif" alt="Loading Anim" class="hidden" />
            <section class="right-panel">
                <!-- di dalam .right-panel -->
                
                <div class="panel-content">
                    <h2 id="viewer-title">PDF VIEWER</h2>
                    <div class="viewer-controls" id="pdf-controls">
                        <button id="prev-page">‚Üê Previous</button>
                        <span id="page-info">Page 1 of 1</span>
                        <button id="next-page">Next ‚Üí</button>
                    </div>
                    <div class="pdf-viewer-container">
                        <canvas id="pdf-canvas" style="border: 1px solid #ccc;"></canvas>
                        <div id="image-container" style="display: none; text-align: center;">
                            <img id="uploaded-image" src="" alt="Uploaded image for OCR processing" style="max-width: 100%; max-height: 600px; border: 1px solid #ccc; border-radius: 8px;">
                        </div>
                    </div>
                    <div id="ocr-progress" style="display: none; text-align: center; margin-top: 15px;">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progress-fill"></div>
                        </div>
                        <p id="ocr-status">Processing image...</p>
                    </div>
                    <p>This engine is exclusively crafted for Ica Sayang</p>
                </div>
            </section>

        </main>
        
    </div>
    <!-- Footer -->
    <footer>
        <p>&copy; Sebastianus Lukito 2025</p>
    </footer>
    <!-- Lightning overlay -->
    <div id="lightning-overlay"></div>

    <!-- Loading Popup -->
    <div id="loading-popup" class="loading-popup" style="display: none;">
        <div class="loading-spinner"></div>
        <p>Lagi diproses... Mohon tunggu ya mas...</p>
    </div>

    <!-- Scripts -->
    <!-- PDF.js Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
    <!-- PDF.js Worker -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js"></script>
    <!-- Initialize PDF.js Worker -->
    <script>
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js';
    </script>
    <!-- Tesseract.js for OCR -->
    <script src="https://unpkg.com/tesseract.js@4.1.4/dist/tesseract.min.js"></script>

    
    <script defer src="print.js"></script> 
    
</body>
</html>